{#
/**
 * @file
 * The Blueprint custom installer page template.
 *
 * Available variables:
 * - title: The page title.
 * - page: The page content.
 * - current_step: Current step number.
 * - total_steps: Total number of steps.
 */
#}
<div class="blueprint-installer">
  {# Header section with gradient background #}
  <div class="blueprint-header">
    <header class="blueprint-installer__header">
      {# Progress Indicator - step number with dots #}
      <div class="blueprint-progress" role="progressbar" aria-label="{{ 'Installation progress'|t }}">
        {% set current = current_step|default(1) %}
        {% set total = total_steps|default(4) %}

        <div class="blueprint-progress__dots">
          {% for i in 1..total %}
            <div class="blueprint-progress__dot-wrapper">
              {% if current == i %}
                <div class="blueprint-progress__step-number">{{ current }}</div>
              {% else %}
                <div class="blueprint-progress__dot
                  {{ current > i ? 'blueprint-progress__dot--completed' : '' }}"
                  aria-label="{{ 'Step @step of @total'|t({'@step': i, '@total': total}) }}">
                </div>
              {% endif %}
            </div>
          {% endfor %}
        </div>
      </div>

      <h1 class="blueprint-installer__title">{{ 'The Blueprint'|t }}</h1>
    </header>

    {# Arch SVG at bottom of header - using circle from Figma with adjusted viewBox for subtle curve #}
    <div class="blueprint-header__arch" aria-hidden="true">
      <svg viewBox="0 0 1440 120" fill="none" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none">
        <circle cx="720" cy="2223.5" r="2223.5" fill="white"/>
      </svg>
    </div>
  </div>

  {# Content section - white background #}
  <div class="blueprint-installer__content">
    <main class="blueprint-installer__main" role="main">
      
      {% if page.highlighted %}
        <div class="highlighted">
          {{ page.highlighted }}
        </div>
      {% endif %}

      {% if title and not hide_title %}
        <h2 class="page-title visually-hidden">
          {{ title }}
        </h2>
      {% endif %}

      <div class="page-content">
        {{ page.content }}
      </div>
      
    </main>

    {% if page.sidebar_second %}
      <aside class="blueprint-installer__sidebar">
        {{ page.sidebar_second }}
      </aside>
    {% endif %}
  </div>

  {% if page.page_bottom %}
    <footer class="blueprint-installer__footer">
      {{ page.page_bottom }}
    </footer>
  {% endif %}
</div>
